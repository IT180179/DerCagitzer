<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
  <meta charset="utf-8" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.8.0/css/bulma.min.css" />
  <link href="https://unpkg.com/bulma-calendar@6.0.7/dist/css/bulma-calendar.min.css" rel="stylesheet" />
  <script src="https://unpkg.com/bulma-calendar@6.0.7/dist/js/bulma-calendar.min.js"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
</head>

  <form #userPost="ngForm" (ngSubmit)="onSubmit(userPost.value)" [formGroup]="addressForm" >
      <h2 id="title">Neue Reservierung</h2>
      <h2 id="subtitle">Tischnummer: {{data.tablenr}}</h2>


    <div id="nameForm">
      <label for="name">Name:</label>
      <br>
    <mat-form-field>
      <input class="input" matInput type="text" name="name" formControlName="name" id="name" >
      <mat-error *ngIf="addressForm.controls['name'].hasError('required') ">
        Name muss <b>eingegeben</b> werden!
      </mat-error>
      <mat-error *ngIf="addressForm.controls['name'].hasError('minlength') ">
        Name <b>ist nicht gültig</b>
      </mat-error>
    </mat-form-field>
    </div>

      <div id="startInput">
          <label for="startzeit">Startzeit:</label>
        <br>
          <input class="input" id="startzeit" class="datepicker-input" name="startzeit" formControlName="startzeit" type="time" stepMinute="20">
      </div>

      <div id="endInput">
        <label for="endzeit">Endzeit:</label>
        <br>
        <input (change)="timeChanged()" class="input" id="endzeit"  class="datepicker-input" name="endzeit" formControlName="endzeit"  type="time" step="900" value="08:00">
      </div>

    <br>
    <div id="dateInput">
      <label for="datum">Datum:</label>
      <br>
        <mat-form-field>
          <input class="datepicker-input" name="datum" id="datum" matInput [matDatepicker]="picker" autocomplete="off" name="date" formControlName="datum">
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker [startAt]="data.date" #picker></mat-datepicker>
        </mat-form-field>
    </div>

    <div id="anzInput">
      <label for="personenanzahl" id="anzLabel">Personenanzahl:</label>
      <br>
      <mat-form-field>
        <input matInput min="1" max="10" type="number" name="personenanzahl" formControlName="personenanzahl" id="personenanzahl">
      </mat-form-field>
    </div>

    <div id="telForm">
      <label for="tel" id="telLabel">Telefonnummer:</label>
      <br>
      <mat-form-field>
        <input class="input" matInput type="text" name="telefonnummer" formControlName="telefonnummer" id="tel">
        <mat-error *ngIf="addressForm.controls['telefonnummer'].hasError('required')">
          Telefonnummer muss <b>eingegeben</b> werden!
        </mat-error>
        <mat-error *ngIf="addressForm.controls['telefonnummer'].hasError('minlength')">
          Telefonnummer <b>ist nicht gültig</b>
        </mat-error>
      </mat-form-field>
    </div>

    <div id="emailForm">
      <label for="email" id="emailLabel">E-Mail:</label>
      <mat-form-field>
        <input class="input" matInput type="text" name="email" formControlName="email" id="email">
        <mat-error *ngIf="addressForm.controls['email'].hasError('email') ">
          E-Mail <b>ist nicht gültig!</b>
        </mat-error>
      </mat-form-field>
    </div>

    <div id="anmerkungArea">
      <label for="anmerkung">Anmerkungen:</label>
    <mat-form-field>
      <textarea id="anmerkung" class="full-width-field" name="anmerkung" formControlName="anmerkungen" matInput></textarea>
    </mat-form-field>
    </div>
    <br>
    <button  (click)="onNoClick()" type='button' class="form-control button" id="abbruch">Abbrechen</button>
    <button [disabled]="!addressForm.valid" type="submit" class="form-control button" id="reservieren">Reservieren</button>
  </form>
